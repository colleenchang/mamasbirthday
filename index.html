<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ãŠèª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã†ã€ã¾ã¾</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=DM+Sans:wght@300;400;500&family=Noto+Sans+JP:wght@300;400;500&family=Noto+Serif+JP:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #F5F3EE; }

    @keyframes fadeSlideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes popIn {
      from { opacity: 0; transform: scale(0.8) translateY(8px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }
    @keyframes overlayIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes popupIn {
      from { opacity: 0; transform: scale(0.85) translateY(20px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }
    @keyframes leafFall {
      0% { transform: translateY(-30px) rotate(0deg); opacity: 0.15; }
      10% { opacity: 0.15; }
      90% { opacity: 0.05; }
      100% { transform: translateY(105vh) rotate(360deg); opacity: 0; }
    }
    @keyframes heroFade {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes drawLine {
      from { width: 0; }
      to { width: 60px; }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
  <script type="text/babel">
    const { useState } = React;

    const gifts = [
      {
        id: 1,
        emoji: "ğŸ“¸",
        app: "",
        tagline: "can we recreate this picture ğŸ˜‚",
        description: "photo",
        color: "#8B6F6F",
        link: null,
      },
      {
        id: 2,
        emoji: "ğŸ¾",
        app: "SwingVision",
        tagline: "ãƒ†ãƒ‹ã‚¹ã‚’ã‚‚ã£ã¨ã‚¹ãƒãƒ¼ãƒˆã«",
        description: "AIãŒã‚¹ã‚¤ãƒ³ã‚°ã‚’åˆ†æã—ã€ã‚·ãƒ§ãƒƒãƒˆã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚„ã‚¹ãƒ”ãƒ³ã‚’è‡ªå‹•ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã—ã¦ãã‚Œã‚‹ã‹ã‚‰é¢ç™½ã„ã—ä¾¿åˆ©ã ã‚ˆã€‚å¤©ã®ãƒ†ãƒ‹ã‚¹å¥½ããªãŠå‹é”ãŒã‚ˆãä½¿ã£ã¦ã‚‹ã‚¢ãƒ—ãƒªï¼",
        color: "#5B7553",
        link: "https://swing.vision/",
      },
      {
        id: 3,
        emoji: "ğŸœ",
        app: "",
        tagline: "ã“ã‚Œã‹ã‚‰ã‚‚ä¸€ç·’ã«ç¾å‘³ã—ã„ã‚‚ã®ã‚’ã„ã£ã±ã„é£Ÿã¹ã‚ˆã†ã­ï¼",
        description: "carousel",
        color: "#7A6B5D",
        link: null,
        photos: [
          "IMG_2763_2.jpg",
          "IMG_5780.jpg",
          "IMG_6471.jpg",
          "IMG_5518.jpg",
          "IMG_1922.jpg",
        ],
      },
      {
        id: 4,
        emoji: "ğŸŒ®",
        app: "æ±äº¬ã‚¿ã‚³ã‚¹ãƒãƒƒãƒ—",
        tagline: "æ±äº¬ã§ãƒ¡ã‚­ã‚·ã‚³ã®å‘³ã‚’æ¥½ã—ã‚ã‚‹å ´æ‰€ã‚’æ¢ã—ã¦ã¿ãŸã‚ˆ",
        description: "map",
        color: "#6B8E5A",
        link: null,
        tacoSpots: [
          { name: "Tacos Trap'", area: "æ–°å®¿", rating: 4.8, note: "ç›®ã®å‰ã§æ‰‹ä½œã‚Šã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ³ãƒˆãƒ«ãƒ†ã‚£ãƒ¼ãƒ¤ãŒçµ¶å“ã€‚ãƒ¡ã‚­ã‚·ã‚³ã«ä½ã‚“ã§ã„ãŸäººãŸã¡ã‚‚çµ¶è³›ã™ã‚‹ã‚¯ã‚ªãƒªãƒ†ã‚£ã€‚å°ã•ãã¦å±…å¿ƒåœ°ã®ã„ã„éš ã‚Œå®¶ã§ã€ã‚«ãƒ«ãƒ‹ã‚¿ã‚¹ã¨ãƒãƒ§ãƒªã‚½ã®ã‚¿ã‚³ã‚¹ãŒç‰¹ã«ãŠã™ã™ã‚ã€‚", lat: 35.6890849, lng: 139.7121239, place_id: "ChIJ_02f_UCNGGARUiUTanuG770" },
          { name: "Kuma Cantina", area: "ä¸­é‡", rating: 4.7, note: "ãƒ¡ã‚­ã‚·ã‚³ã‚·ãƒ†ã‚£ã«ä½ã‚“ã§ã„ãŸäººãŸã¡ãŒã€Œæ±äº¬ã§ä¸€ç•ªã®ãƒ¡ã‚­ã‚·ã‚«ãƒ³ã€ã¨å£ã‚’æƒãˆã‚‹ååº—ã€‚æœˆæ›¿ã‚ã‚Šãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§ãƒ‘ãƒ³ã‚·ãƒ¼ã‚¿ã‚„ãƒ“ãƒªã‚¢ã‚®ãƒ§ãƒ¼ã‚¶ãªã©ç‹¬å‰µçš„ãªæ–™ç†ãŒæ¥½ã—ã‚ã‚‹ã€‚ã‚³ãƒ¼ã‚¹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒãŠã™ã™ã‚ã€‚", lat: 35.7078, lng: 139.6657, place_id: null },
          { name: "MIXTEKO TOKYO", area: "éº»å¸ƒåç•ª", rating: 4.8, note: "ã‚ªã‚¢ãƒã‚«å‡ºèº«ã®ã‚·ã‚§ãƒ•ãŒæ—¥æœ¬ã®é£Ÿæã«ã‚ªã‚¢ãƒã‚«ã®ä¼çµ±çš„ãªæŠ€æ³•ã‚’åˆã‚ã›ãŸã€ãƒ¡ã‚­ã‚·ã‚«ãƒ³ãŠã¾ã‹ã›ã€‚æ¯é€±å¤‰ã‚ã‚‹ãƒ‡ã‚£ãƒŠãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¯äºˆç´„å¿…é ˆã€‚ç‰¹åˆ¥ãªæ—¥ã«ã´ã£ãŸã‚Šã®ä¸€è»’ã€‚æœˆæ›œå®šä¼‘ã€ãƒ‡ã‚£ãƒŠãƒ¼ã®ã¿ã€‚", lat: 35.655550399999996, lng: 139.7333016, place_id: "ChIJV5snZRz1GGARGJEB593Il1A" },
          { name: "Chiles Mexican Grill", area: "åŸå®¿", rating: 4.4, note: "ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã§ãŠæ‰‹é ƒãªãƒ¡ã‚­ã‚·ã‚«ãƒ³ã€‚ã‚¹ã‚¿ãƒƒãƒ•ã¯è‹±èªãƒ»ã‚¹ãƒšã‚¤ãƒ³èªãƒ»æ—¥æœ¬èªOKã€‚ã‚°ãƒªãƒ¼ãƒ³ã‚µãƒ«ã‚µã®ã‚¨ãƒ³ãƒãƒ©ãƒ¼ãƒ€ã¨ã‚ªãƒ«ãƒãƒ£ãƒ¼ã‚¿ãŒäººæ°—ã§ã€ã‚³ã‚¹ãƒ‘ã®è‰¯ã•ã§ã‚‚æ±äº¬ãƒˆãƒƒãƒ—ã‚¯ãƒ©ã‚¹ã€‚", lat: 35.6697, lng: 139.7060, place_id: null },
          { name: "TACOS BAR", area: "æµæ¯”å¯¿", rating: 4.8, note: "ãƒ–ãƒ«ãƒ¼ã‚³ãƒ¼ãƒ³ã®æ‰‹ä½œã‚Šãƒˆãƒ«ãƒ†ã‚£ãƒ¼ãƒ¤ãŒç‰¹å¾´ã€‚ã‚·ãƒ¼ãƒ•ãƒ¼ãƒ‰ã‚¿ã‚³ã‚¹ã¨ãƒˆã‚¹ã‚¿ãƒ¼ãƒ€ãŒçµ¶å“ã§ã€å„æ–™ç†ã«åˆã‚ã›ãŸã‚½ãƒ¼ã‚¹ã®ã“ã ã‚ã‚ŠãŒã™ã”ã„ã€‚æ—¥æœ¬é…’ãƒšã‚¢ãƒªãƒ³ã‚°ã‚‚æ„å¤–ã¨ãƒãƒƒãƒã€‚", lat: 35.650435699999996, lng: 139.70720459999998, place_id: "ChIJ7wOuPHuLGGARjq2MrwaMtPw" },
          { name: "Mil Tacos", area: "ç¬¹å¡š", rating: 4.6, note: "ãƒ—ã‚¨ãƒ–ãƒ©å‡ºèº«ã®ã‚ªãƒ¼ãƒŠãƒ¼ãŒä½œã‚‹æœ¬å ´ã®å‘³ã€‚ã‚«ãƒ«ãƒ‹ã‚¿ã‚¹ã¨ãƒã‚­ãƒ³ãƒ–ãƒªãƒˆãƒ¼ãŒç‰¹ã«äººæ°—ã€‚ã‚ªãƒ«ãƒãƒ£ãƒ¼ã‚¿ã‚‚æœ¬æ ¼çš„ã§ã€ãƒ¡ã‚­ã‚·ã‚³ã®å®¶åº­æ–™ç†ã‚’æ€ã„å‡ºã™ã‚ˆã†ãªæ¸©ã‹ã„é›°å›²æ°—ã€‚", lat: 35.6769381, lng: 139.6676464, place_id: "ChIJkfAsHX7zGGAR3jWuen4uJQQ" },
        ],
      },
      {
        id: 5,
        emoji: "ğŸ¥°",
        app: "",
        tagline: "Just because this is super cute :)",
        description: "photo2",
        color: "#9B7E8A",
        link: null,
      },
      {
        id: 6,
        emoji: "ğŸ¤–",
        app: "Claude",
        tagline: "ChatGPTã¿ãŸã„ãªAIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ",
        description: "æœ€è¿‘ChatGPTã‹ã‚‰Claudeã«å¤‰ãˆã¦ã™ã”ãã„ã„ã‹ã‚“ã˜ã€‚ä¸€é€±é–“ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚³ãƒ¼ãƒ‰ã§è©¦ã—ã¦ã¿ã¦ã­ã€œ",
        color: "#8B6F47",
        link: "https://claude.ai/referral/0oI2XRuYwg",
      },
    ];

    const TreeSVG = ({ style }) => (
      <svg viewBox="0 0 120 200" style={style} fill="none">
        <line x1="60" y1="200" x2="60" y2="80" stroke="#5B7553" strokeWidth="3" strokeLinecap="round" opacity="0.3" />
        <ellipse cx="60" cy="65" rx="35" ry="45" fill="#5B7553" opacity="0.08" />
        <ellipse cx="45" cy="75" rx="25" ry="30" fill="#6B8E5A" opacity="0.06" />
        <ellipse cx="75" cy="70" rx="20" ry="28" fill="#4A6741" opacity="0.07" />
      </svg>
    );

    const Leaf = ({ delay, left, size }) => (
      <div style={{
        position: "fixed", left: `${left}%`, top: "-30px",
        fontSize: `${size}px`, opacity: 0.15,
        animation: `leafFall ${12 + Math.random() * 8}s linear ${delay}s infinite`,
        pointerEvents: "none", zIndex: 0,
      }}>ğŸƒ</div>
    );

    const GiftBox = ({ gift, index, isOpened, onClick }) => {
      const [hovered, setHovered] = useState(false);
      return (
        <div onClick={onClick} onMouseEnter={() => setHovered(true)} onMouseLeave={() => setHovered(false)}
          style={{ cursor: "pointer", animation: `fadeSlideUp 0.8s ease ${0.15 * index + 0.5}s both` }}>
          <div style={{
            width: "100%", aspectRatio: "1", borderRadius: "16px",
            background: isOpened ? `linear-gradient(145deg, ${gift.color}08, transparent)` : `linear-gradient(145deg, ${gift.color}18, ${gift.color}08)`,
            border: `1.5px solid ${gift.color}${isOpened ? "12" : "25"}`,
            display: "flex", flexDirection: "column", alignItems: "center", justifyContent: "center", gap: "14px",
            transition: "all 0.6s cubic-bezier(0.23, 1, 0.32, 1)",
            transform: hovered ? "translateY(-6px) scale(1.02)" : "translateY(0) scale(1)",
            boxShadow: hovered ? `0 20px 40px ${gift.color}15, 0 0 0 1px ${gift.color}15` : isOpened ? `0 2px 12px ${gift.color}05` : `0 4px 20px ${gift.color}08`,
            position: "relative", overflow: "hidden",
          }}>
            <div style={{ position: "absolute", top: 0, left: "50%", transform: "translateX(-50%)", width: "1.5px", height: "100%", background: `${gift.color}20`, opacity: isOpened ? 0 : 1, transition: "opacity 0.8s ease" }} />
            <div style={{ position: "absolute", top: "50%", left: 0, transform: "translateY(-50%)", width: "100%", height: "1.5px", background: `${gift.color}20`, opacity: isOpened ? 0 : 1, transition: "opacity 0.8s ease" }} />
            <div style={{ position: "absolute", top: "calc(50% - 10px)", left: "50%", transform: "translate(-50%, -50%)", width: "20px", height: "20px", borderRadius: "50%", background: `${gift.color}30`, border: `1.5px solid ${gift.color}40`, opacity: isOpened ? 0 : 1, transition: "opacity 0.8s ease" }} />
            {isOpened && <div style={{ width: "6px", height: "6px", borderRadius: "50%", background: `${gift.color}40`, animation: "popIn 0.4s ease both" }} />}
          </div>
        </div>
      );
    };

    const CloseButton = ({ onClose, absolute }) => (
      <button onClick={onClose} style={{
        position: absolute ? "absolute" : "static", top: "12px", right: "12px", zIndex: 10,
        background: "rgba(250,250,247,0.9)", border: "none", fontSize: "18px",
        color: "#A09888", cursor: "pointer", padding: "4px 10px", lineHeight: 1,
        borderRadius: "50%", width: "32px", height: "32px",
        display: "flex", alignItems: "center", justifyContent: "center",
      }}
        onMouseEnter={(e) => e.target.style.color = "#6B6B6B"}
        onMouseLeave={(e) => e.target.style.color = "#A09888"}
      >Ã—</button>
    );

    const Overlay = ({ onClose, children }) => (
      <div onClick={onClose} style={{
        position: "fixed", top: 0, left: 0, right: 0, bottom: 0,
        background: "rgba(44, 44, 44, 0.4)", backdropFilter: "blur(8px)", WebkitBackdropFilter: "blur(8px)",
        display: "flex", alignItems: "center", justifyContent: "center",
        zIndex: 100, padding: "16px", animation: "overlayIn 0.3s ease both",
      }}>{children}</div>
    );

    const TacoMapPopup = ({ gift, onClose }) => {
      const spots = gift.tacoSpots;
      return (
        <Overlay onClose={onClose}>
          <div onClick={(e) => e.stopPropagation()} style={{
            background: "#FAFAF7", borderRadius: "24px", maxWidth: "480px", width: "100%",
            maxHeight: "90vh", overflow: "hidden", display: "flex", flexDirection: "column",
            animation: "popupIn 0.5s cubic-bezier(0.23, 1, 0.32, 1) both",
            boxShadow: `0 24px 80px rgba(0,0,0,0.12), 0 0 0 1px ${gift.color}15`, position: "relative",
          }}>
            <CloseButton onClose={onClose} absolute />
            <div style={{ padding: "36px 24px 12px", textAlign: "center", animation: "popIn 0.4s ease 0.1s both" }}>
              <div style={{ fontSize: "36px", marginBottom: "8px" }}>ğŸŒ®</div>
              <div style={{ fontFamily: "'Noto Serif JP', serif", fontSize: "22px", fontWeight: 500, color: "#2C2C2C" }}>æ±äº¬ã‚¿ã‚³ã‚¹ãƒãƒƒãƒ—</div>
              <div style={{ fontFamily: "'Noto Serif JP', serif", fontSize: "13px", fontStyle: "italic", color: gift.color, marginTop: "4px" }}>æ±äº¬ã§ãƒ¡ã‚­ã‚·ã‚³ã®å‘³ã‚’æ¥½ã—ã‚ã‚‹å ´æ‰€ã‚’æ¢ã—ã¦ã¿ãŸã‚ˆ</div>
              <div style={{ width: "40px", height: "1px", background: `linear-gradient(90deg, transparent, ${gift.color}60, transparent)`, margin: "16px auto 0" }} />
            </div>
            <div style={{ flex: 1, overflowY: "auto", padding: "8px 16px 20px" }}>
              {spots.map((spot, i) => (
                <a key={i}
                  href={spot.place_id ? `https://www.google.com/maps/search/?api=1&query=${spot.lat},${spot.lng}&query_place_id=${spot.place_id}` : `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(spot.name + ' Tokyo')}`}
                  target="_blank" rel="noopener noreferrer" style={{ textDecoration: "none", color: "inherit" }}>
                  <div
                    onMouseEnter={(e) => { e.currentTarget.style.background = `${gift.color}08`; e.currentTarget.style.borderColor = `${gift.color}25`; }}
                    onMouseLeave={(e) => { e.currentTarget.style.background = "transparent"; e.currentTarget.style.borderColor = `${gift.color}10`; }}
                    style={{ padding: "16px", borderRadius: "12px", border: `1px solid ${gift.color}10`, marginTop: "8px", transition: "all 0.3s ease", cursor: "pointer", animation: `popIn 0.4s ease ${0.1 * i + 0.3}s both` }}>
                    <div style={{ display: "flex", alignItems: "center", justifyContent: "space-between", marginBottom: "6px" }}>
                      <div style={{ fontFamily: "'Cormorant Garamond', serif", fontSize: "17px", fontWeight: 600, color: "#2C2C2C" }}>{spot.name}</div>
                      <div style={{ fontFamily: "'DM Sans', sans-serif", fontSize: "12px", color: gift.color, background: `${gift.color}10`, padding: "3px 8px", borderRadius: "100px" }}>â˜… {spot.rating}</div>
                    </div>
                    <div style={{ fontFamily: "'Noto Sans JP', sans-serif", fontSize: "11px", color: "#A09888", letterSpacing: "1px", marginBottom: "6px" }}>ğŸ“ {spot.area}</div>
                    <div style={{ fontFamily: "'Noto Sans JP', sans-serif", fontSize: "13px", lineHeight: 1.7, color: "#6B6B6B" }}>{spot.note}</div>
                  </div>
                </a>
              ))}
            </div>
          </div>
        </Overlay>
      );
    };

    const PhotoPopup = ({ gift, onClose }) => (
      <Overlay onClose={onClose}>
        <div onClick={(e) => e.stopPropagation()} style={{
          background: "#FAFAF7", borderRadius: "24px", maxWidth: "420px", width: "100%",
          overflow: "hidden", display: "flex", flexDirection: "column",
          animation: "popupIn 0.5s cubic-bezier(0.23, 1, 0.32, 1) both",
          boxShadow: `0 24px 80px rgba(0,0,0,0.12), 0 0 0 1px ${gift.color}15`, position: "relative",
        }}>
          <CloseButton onClose={onClose} absolute />
          <div style={{ width: "100%", overflow: "hidden", borderRadius: "24px 24px 0 0", animation: "popIn 0.4s ease 0.15s both" }}>
            <img src={gift.description === "photo2" ? "IMG_9488.jpg" : "IMG_9516.jpeg"} alt="Photo"
              style={{ width: "100%", height: "auto", maxHeight: "55vh", display: "block", objectFit: "cover" }} />
          </div>
          <div style={{ padding: "24px", textAlign: "center", animation: "popIn 0.4s ease 0.3s both" }}>
            <div style={{ fontFamily: "'Noto Sans JP', 'DM Sans', sans-serif", fontSize: "15px", lineHeight: 1.9, color: "#6B6B6B" }}>{gift.tagline}</div>
          </div>
        </div>
      </Overlay>
    );

    const CarouselPopup = ({ gift, onClose }) => {
      const [currentIndex, setCurrentIndex] = useState(0);
      const photos = gift.photos;
      const goNext = (e) => { e.stopPropagation(); setCurrentIndex((prev) => (prev + 1) % photos.length); };
      const goPrev = (e) => { e.stopPropagation(); setCurrentIndex((prev) => (prev - 1 + photos.length) % photos.length); };

      const navBtn = (dir, onClick) => ({
        position: "absolute", [dir]: "12px", top: "50%", transform: "translateY(-50%)",
        background: "rgba(250,250,247,0.85)", border: "none",
        width: "36px", height: "36px", borderRadius: "50%",
        display: "flex", alignItems: "center", justifyContent: "center",
        cursor: "pointer", fontSize: "16px", color: "#6B6B6B",
        boxShadow: "0 2px 8px rgba(0,0,0,0.1)",
      });

      return (
        <Overlay onClose={onClose}>
          <div onClick={(e) => e.stopPropagation()} style={{
            background: "#FAFAF7", borderRadius: "24px", maxWidth: "420px", width: "100%",
            overflow: "hidden", display: "flex", flexDirection: "column",
            animation: "popupIn 0.5s cubic-bezier(0.23, 1, 0.32, 1) both",
            boxShadow: `0 24px 80px rgba(0,0,0,0.12), 0 0 0 1px ${gift.color}15`, position: "relative",
          }}>
            <CloseButton onClose={onClose} absolute />
            <div style={{ width: "100%", position: "relative", borderRadius: "24px 24px 0 0", overflow: "hidden" }}>
              <img key={currentIndex} src={photos[currentIndex]} alt={`Photo ${currentIndex + 1}`}
                style={{ width: "100%", height: "55vh", display: "block", objectFit: "cover", animation: "popIn 0.3s ease both" }} />
              <button onClick={goPrev} style={navBtn("left")}>â€¹</button>
              <button onClick={goNext} style={navBtn("right")}>â€º</button>
              <div style={{ position: "absolute", bottom: "12px", left: "50%", transform: "translateX(-50%)", display: "flex", gap: "6px" }}>
                {photos.map((_, i) => (
                  <div key={i} onClick={(e) => { e.stopPropagation(); setCurrentIndex(i); }}
                    style={{ width: i === currentIndex ? "16px" : "6px", height: "6px", borderRadius: "100px", background: i === currentIndex ? "rgba(255,255,255,0.9)" : "rgba(255,255,255,0.45)", cursor: "pointer", transition: "all 0.3s ease" }} />
                ))}
              </div>
            </div>
            <div style={{ padding: "24px", textAlign: "center", animation: "popIn 0.4s ease 0.3s both" }}>
              <div style={{ fontFamily: "'Noto Serif JP', serif", fontSize: "15px", lineHeight: 1.9, color: "#6B6B6B", fontStyle: "italic" }}>{gift.tagline}</div>
            </div>
          </div>
        </Overlay>
      );
    };

    const GiftPopup = ({ gift, onClose }) => {
      if (gift.description === "map") return <TacoMapPopup gift={gift} onClose={onClose} />;
      if (gift.description === "photo" || gift.description === "photo2") return <PhotoPopup gift={gift} onClose={onClose} />;
      if (gift.description === "carousel") return <CarouselPopup gift={gift} onClose={onClose} />;

      return (
        <Overlay onClose={onClose}>
          <div onClick={(e) => e.stopPropagation()} style={{
            background: "#FAFAF7", borderRadius: "24px", padding: "48px 40px",
            maxWidth: "380px", width: "100%", display: "flex", flexDirection: "column",
            alignItems: "center", textAlign: "center", gap: "16px",
            animation: "popupIn 0.5s cubic-bezier(0.23, 1, 0.32, 1) both",
            boxShadow: `0 24px 80px rgba(0,0,0,0.12), 0 0 0 1px ${gift.color}15`, position: "relative",
          }}>
            <button onClick={onClose} style={{
              position: "absolute", top: "16px", right: "16px", background: "none", border: "none",
              fontSize: "20px", color: "#A09888", cursor: "pointer", padding: "4px 8px", lineHeight: 1,
            }}
              onMouseEnter={(e) => e.target.style.color = "#6B6B6B"}
              onMouseLeave={(e) => e.target.style.color = "#A09888"}
            >Ã—</button>
            <div style={{ fontSize: "52px", animation: "popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.15s both" }}>{gift.emoji}</div>
            <div style={{ fontFamily: "'Cormorant Garamond', serif", fontSize: "28px", fontWeight: 600, color: "#2C2C2C", letterSpacing: "-0.3px", animation: "popIn 0.4s ease 0.25s both" }}>{gift.app}</div>
            <div style={{ fontFamily: "'Noto Serif JP', 'Cormorant Garamond', serif", fontSize: "15px", fontStyle: "italic", color: gift.color, letterSpacing: "0.5px", animation: "popIn 0.4s ease 0.3s both" }}>{gift.tagline}</div>
            <div style={{ width: "40px", height: "1px", background: `linear-gradient(90deg, transparent, ${gift.color}60, transparent)`, animation: "popIn 0.4s ease 0.32s both" }} />
            <div style={{ fontFamily: "'Noto Sans JP', 'DM Sans', sans-serif", fontSize: "14px", lineHeight: 1.9, color: "#6B6B6B", maxWidth: "300px", animation: "popIn 0.4s ease 0.35s both" }}>{gift.description}</div>
            <a href={gift.link} target="_blank" rel="noopener noreferrer"
              style={{ marginTop: "8px", fontFamily: "'Noto Sans JP', 'DM Sans', sans-serif", fontSize: "12px", letterSpacing: "1.5px", color: gift.color, textDecoration: "none", padding: "12px 28px", borderRadius: "100px", border: `1.5px solid ${gift.color}35`, transition: "all 0.3s ease", animation: "popIn 0.4s ease 0.4s both" }}
              onMouseEnter={(e) => { e.target.style.background = gift.color + "10"; e.target.style.borderColor = gift.color + "60"; }}
              onMouseLeave={(e) => { e.target.style.background = "transparent"; e.target.style.borderColor = gift.color + "35"; }}
            >è©³ã—ãè¦‹ã‚‹ â†’</a>
          </div>
        </Overlay>
      );
    };

    function App() {
      const [openBoxes, setOpenBoxes] = useState(new Set());
      const [activeGift, setActiveGift] = useState(null);

      const handleBoxClick = (gift) => {
        setOpenBoxes((prev) => { const next = new Set(prev); next.add(gift.id); return next; });
        setActiveGift(gift);
      };

      return (
        <div style={{
          minHeight: "100vh",
          background: "linear-gradient(180deg, #F5F3EE 0%, #FAFAF7 30%, #F0EDE6 100%)",
          fontFamily: "'Noto Sans JP', 'DM Sans', sans-serif",
          position: "relative", overflow: "hidden",
        }}>
          {[12, 35, 58, 78, 91].map((left, i) => <Leaf key={i} delay={i * 3.5} left={left} size={14 + i * 2} />)}

          <TreeSVG style={{ position: "fixed", bottom: 0, left: "-20px", width: "140px", height: "220px" }} />
          <TreeSVG style={{ position: "fixed", bottom: 0, right: "-10px", width: "120px", height: "200px" }} />
          <TreeSVG style={{ position: "fixed", bottom: 0, left: "15%", width: "100px", height: "180px" }} />
          <TreeSVG style={{ position: "fixed", bottom: 0, right: "20%", width: "90px", height: "160px" }} />

          <div style={{ position: "relative", zIndex: 1, maxWidth: "720px", margin: "0 auto", padding: "60px 24px 100px" }}>
            <div style={{ textAlign: "center", marginBottom: "64px", animation: "heroFade 1s ease 0.1s both" }}>
              <h1 style={{
                fontFamily: "'Noto Serif JP', serif", fontSize: "clamp(32px, 8vw, 52px)",
                fontWeight: 300, color: "#2C2C2C", lineHeight: 1.3, letterSpacing: "2px", marginBottom: "24px",
              }}>
                ã¾ã¾ã€<br />
                <span style={{ fontWeight: 400, color: "#5B7553" }}>ãŠèª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã†ã€‚</span>
              </h1>
              <div style={{ width: "60px", height: "1px", background: "linear-gradient(90deg, transparent, #5B7553, transparent)", margin: "0 auto 24px", animation: "drawLine 1s ease 0.6s both" }} />
              <p style={{ fontFamily: "'Noto Serif JP', serif", fontSize: "16px", color: "#8B7D6B", lineHeight: 2, maxWidth: "440px", margin: "0 auto", fontWeight: 300 }}>
                ç®±ã‚’ä¸€å€‹ãšã¤é–‹ã‘ã¦ã­ï¼<br />æ¥½ã—ã„1æ—¥ã«ãªã‚Šã¾ã™ã‚ˆã†ã«
              </p>
            </div>

            <div style={{ display: "grid", gridTemplateColumns: "repeat(auto-fill, minmax(200px, 1fr))", gap: "20px", marginBottom: "60px" }}>
              {gifts.map((gift, i) => (
                <GiftBox key={gift.id} gift={gift} index={i} isOpened={openBoxes.has(gift.id)} onClick={() => handleBoxClick(gift)} />
              ))}
            </div>
          </div>

          {activeGift && <GiftPopup gift={activeGift} onClose={() => setActiveGift(null)} />}
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<App />);
  </script>
</body>
</html>
